# AnimeTracker Implementation

Index :
	The index page displays the top anime as well as being a hub for navigating to the specific page for the top anime, your list, the browsing page, and to log out. The display is generated by the javascript file that will fetch data from the API database every time the page is initiated. The information fetched from the API are the ten shows airing this season(Spring 2021) sorted by the average rating in descending order. The shows are then inserted into the “anime_shows” database which keeps track of the top ten shows. The “update_or_insert” function will make sure if any elements of the show changes by checking the self link since the self link will mostly remain the same. 

Anime page:
	For the implementation of the anime page, we used an API get request to retrieve the data which is then stored into the database. When the user opens the page, we retrieve this data from the database from ‘anime_page.js’ and display it onto the page. Each unique page is dynamically generated for every anime in the database. The data we retrieved is the banner, poster, synopsis, youtube trailer, and misc data for each individual anime which is then displayed in columns. We also had a condition to check for the existence of a banner since if there was no banner, the page would brick. Therefore, we had to omit banners if certain animes did not have theml. There is an additional column where users can post comments that are unique to each anime and users are able to edit or delete them. 

Search
	The search page is implemented by concatenating the searched entered into the text area with a query to the API database. The search is set to retrieve the first five search results which are clickable to a specific page for the anime. The retrieved anime are saved to a “search_result” database temporarily to allow for the anime page to be generated. The anime saved will be deleted when a new search is queried and will be updated with the new search results. Because we are pulling information straight from the database and displaying it with the YATL template, we force a refresh to the page so that the newly searched anime will be displayed. Because the most recent search results are saved in the database, the search results will stay on the browse page when going into and out from an anime page. The browse page will be clear again when going back to the index page which uses a function that clears the search results from the “search_results” database.

Profile:
The profile page is a dynamic page run by Vue.js where a user can save the anime shows that they are interested in into a simple database table. In models.py, we integrated the “list” database that contains each show’s name, poster art, show type, as well as the number of episodes that it contains. To add an anime title to the list, the user must navigate to the respective anime page and click the add button. Adding an anime prompts an alert saying that the anime has been added. We also implemented the ability for a user to edit the number of episodes they watched out of the current number of episodes available. We had to check if the show was still ongoing with an unknown number of episodes or if the user entered a valid entry (i.e. something less than the maximum number of episodes). If either of these conditions were true, the database, and likewise the table, would be editable and the change would be immediate. If not, then the page would alert the user to enter a valid entry. Entering anything other than a number also will not save any changes as those too are invalid entries. All of the row states and their attributes are saved within Vue.js.

Database:
	The “anima_show” table stores the top ten shows of this current season. The elements in the database are used for displaying the poster and title seen on the index page, as well as a self link for API querying which will be retrieved from the js file generating the individual anime pages. 
	The “search_results” database is formatted similarly to the “anime_shows” database where the elements stored are used for display and information retrieval to generate the individual anime pages. The difference is that this table will be changed frequently due to the new searches being made by the user. 
	The “comments” database is used for keeping track of comments left by users on each anime page. The “show” element stores the link to retrieve info from the API database and is used for identification since the links are for the most part unique. The “user_email” element is used to identify which user wrote the comment so that we can give appropriate privileges(like deleting).
	The “list” table used to store the anime saved by all users. Because each user’s email is unique, it is used to identify which anime should be showing up in a user’s list. The other elements are used to display information about the anime which will appear in the user’s profile page.


