[[extend 'layout.html']]

<style>
[v-cloak] {
  display: none;
}
</style>


<div class="section" id="vue-target">
  <!-- Put here your Vue.js template -->
  <h1 class="title">Anime Tracker</h1>

  [[if globals().get('user'):]]
  <h2>Click on the top anime below to add to your list!
    <br />
  You can add reviews for each title so others can see!</h2>
  <br />
  [[else:]]
  <h2>Wanna see how far down the rabbit hole you've come?
    <br />
  Track your watched anime here and see what your fellow weebs have to say!</h2>
  <br />
  [[pass]]
  <!-- [[if globals().get('user'):]]
  <a class="button is-primary" href="[[=URL('go_to_profile', signer=url_signer)]]">
    <span>Profile</span>
  </a>
  [[else:]]
  <a class="button is-link" href="[[=URL('auth/plugin/oauth2google/login', vars=dict(next='../index'))]]">Log In</a>
  [[pass]] -->

  <h3 class="title">Top Anime Spring 2021</h3>
  
  <div class="columns">
    <div class="column is-2 is-offset-1">

      [[for row in rows:]]
      <div class="card is-horizontal">
        <div class="card-image">
          <figure class="image is-2by2">
            <img src="[[=row['poster'] ]]">
          </figure>
        </div>
        <div class="card-content has-text-centered">
         <a href="[[=URL('go_to_anime', row['id'])]]">
          [[=row['name'] ]]
        </a>           
      </div>
    </div>
    <br>
    [[pass]]
  </div>    
</div>

</div>



[[block page_scripts]]
<!-- Loads the index-specific js for Vue -->
<script>
  let my_callback_url = "[[=XML(my_callback_url)]]";
  let add_anime_url = "[[=XML(add_anime_url)]]"
</script>
<script src="js/index.js"></script>
[[end]]